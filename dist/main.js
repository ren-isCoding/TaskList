(()=>{"use strict";function t(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function e(e){t(1,arguments);var s=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===s?new Date(e.getTime()):"number"==typeof e||"[object Number]"===s?new Date(e):("string"!=typeof e&&"[object String]"!==s||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function s(s){t(1,arguments);var a=e(s);return a.setHours(0,0,0,0),a}function a(e,a){t(2,arguments);var i=s(e),n=s(a);return i.getTime()===n.getTime()}function i(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function n(s,a){t(1,arguments);var n=a||{},r=n.locale,o=r&&r.options&&r.options.weekStartsOn,c=null==o?0:i(o),l=null==n.weekStartsOn?c:i(n.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=e(s),u=g.getDay(),d=(u<l?7:0)+u-l;return g.setDate(g.getDate()-d),g.setHours(0,0,0,0),g}function r(e,s,a){t(2,arguments);var i=n(e,a),r=n(s,a);return i.getTime()===r.getTime()}function o(s,a){t(2,arguments);var n=e(s),r=i(a);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}class c{constructor(t){this.name=t,this.tasks=[]}setName(t){this.name=t}getName(){return this.name}setTasks(t){this.tasks=t}getTasks(){return this.tasks}getTask(t){return this.tasks.find((e=>e.getName()===t))}contains(t){return this.tasks.some((e=>e.getName()===t))}addTask(t){this.tasks.find((e=>e.getName()===t.name))||this.tasks.push(t)}deleteTask(t){this.tasks=this.tasks.filter((e=>e.name!==t))}getTasksToday(){return this.tasks.filter((s=>function(e){return t(1,arguments),a(e,Date.now())}(e(new Date(s.getDateFormatted())))))}getTasksUpcoming(){return this.tasks.filter((s=>function(e,s){return t(1,arguments),r(e,Date.now(),s)}(function(e,s){t(2,arguments);var a=i(s);return o(e,-a)}(e(new Date(s.getDateFormatted())),1))))}}class l{constructor(t,e="No date"){this.name=t,this.dueDate=e}setName(t){this.name=t}getName(){return this.name}setDate(t){this.dueDate=t}getDate(){return this.dueDate}getDateFormatted(){let t=this.dueDate.split("/")[0];return`${this.dueDate.split("/")[1]}/${t}/${this.dueDate.split("/")[2]}`}}class g{constructor(){this.lists=[],this.lists.push(new c("Inbox")),this.lists.push(new c("Today")),this.lists.push(new c("Upcoming"))}setLists(t){this.lists=t}getLists(){return this.lists}getList(t){return this.lists.find((e=>e.getName()===t))}contains(t){return this.lists.some((e=>e.getName()===t))}addList(t){this.lists.find((e=>e.name===t.name))||this.lists.push(t)}deleteList(t){let e=this.lists.find((e=>e.getName()===t));this.lists.splice(this.lists.indexOf(e),1)}updateTodayList(){this.getList("Today").tasks=[],this.lists.forEach((t=>{"Today"!==t.getName()&&"Upcoming"!==t.getName()&&t.getTasksToday().forEach((e=>{let s=`${e.getName()} (${t.getName()})`;this.getList("Today").addTask(new l(s,e.getDate()))}))}))}updateUpcomingList(){this.getList("Upcoming").tasks=[],this.lists.forEach((t=>{"Today"!==t.getName()&&"Upcoming"!==t.getName()&&t.getTasksUpcoming().forEach((e=>{let s=`${e.getName()} (${t.getName()})`;this.getList("Upcoming").addTask(new l(s,e.getDate()))}))})),this.getList("Upcoming").setTasks(this.getList("Upcoming").getTasks().sort(((s,a)=>function(s,a){t(2,arguments);var i=e(s),n=e(a),r=i.getTime()-n.getTime();return r<0?-1:r>0?1:r}(e(new Date(s.getDate.Formatted())),e(new Date(a.getDate.Formatted()))))))}}class u{static saveTaskList(t){localStorage.setItem("taskList",JSON.stringify(t))}static getTaskList(){let t=Object.assign(new g);return t.setLists(t.getLists().map((t=>Object.assign(new c,t)))),t.getLists().forEach((t=>t.setTasks(t.getTasks).map((t=>Object.assign(new l,t))))),t}static addList(t){let e=u.getTaskList();e.addList(t),u.saveTaskList(e)}static deleteList(t){let e=u.getTaskList();t.deleteList(t),u.saveTaskList(e)}static addTask(t,e){let s=u.getTaskList();s.getList(t).addTask(e),u.saveTaskList(s)}static deleteTask(t,e){let s=u.getTaskList();s.getList(t).deleteTask(e),u.saveTaskList(s)}static renameTask(t,e,s){let a=u.getTaskList();a.getList(t).getTask(e).setName(s),u.saveTaskList(a)}static setTaskDate(t,e,s){let a=u.getTaskList();a.getList(t).getTask(e).setDate(s),u.saveTaskList(a)}static updateTodayList(){let t=u.getTaskList();t.updateTodayList(),u.saveTaskList(t)}static updateUpcomingList(){let t=u.getTaskList();t.updateUpcomingList(),u.saveTaskList(t)}}class d{static loadHomepage(){d.initButtons()}static loadLists(){u.getTaskList().getLists().forEach((t=>{"Inbox"!==t.name&&"Today"!==t.name&&"Upcoming"!==t.name&&d.createList(t.name)}))}static loadTasks(t){u.getTaskList().getList(t).getTasks().forEach((t=>d.createTask(t.name,t.dueDate)))}static createList(t){document.querySelector("#user-lists-container").innerHTML+=`\n            <li class="user-list">${t}</li>`}static createTask(t,e){document.querySelector("#tasks-container")}static initButtons(){document.querySelectorAll("button").forEach((t=>t.addEventListener("click",(t=>t.preventDefault()))));let t=document.querySelector("#user-lists-title");t.addEventListener("click",(()=>{t.classList.toggle("open")}));let e=document.querySelector("#main-add-task-btn");function s(){e.classList.toggle("open")}e.addEventListener("click",(()=>s())),document.querySelector("#main-form-cancel-btn").addEventListener("click",(()=>s())),document.querySelectorAll(".modal-toggler").forEach((t=>{t.addEventListener("click",(()=>(event.target.classList.toggle("active"),overlay=document.getElementById("overlay"),overlay.classList.toggle("active"),void document.addEventListener("click",(t=>{t.target==overlay&&(overlay.classList.remove("active"),document.querySelectorAll(".active").forEach((t=>{t.classList.remove("active")})))})))))}))}}document.addEventListener("DOMContentLoaded",d.loadHomepage)})();